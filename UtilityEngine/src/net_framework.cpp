/**
* @file net_framework.cpp
*
* @author Hourui (liquidmonkey)
*/

#include "net_framework.hpp"

namespace Utility
{
////////////////////////////////////////////////////////////////////////////////////////////////////
namespace net
{
////////////////////////////////////////////////////////////////////////////////////////////////////
framework::framework(void)
{
}
////////////////////////////////////////////////////////////////////////////////////////////////////
framework::~framework(void)
{
}
////////////////////////////////////////////////////////////////////////////////////////////////////
void
framework::net_init(void){
#ifdef _WIN32
	WORD sockVersion = MAKEWORD(2, 2);
	WSADATA data;
	if (WSAStartup(sockVersion, &data) != 0)
	{
		Clog::error_throw(errors::system, "net work init error!");
	}
	if (HIBYTE(data.wVersion) != 2 || LOBYTE(data.wVersion) != 2)
	{
		WSACleanup();
		Clog::error_throw(errors::system, "net work init error (Version != 2.2)!");
	}
#endif
}
////////////////////////////////////////////////////////////////////////////////////////////////////
void 
framework::net_free(void){
#ifdef _WIN32
	WSACleanup();
#endif
}
////////////////////////////////////////////////////////////////////////////////////////////////////
}//namespace net
////////////////////////////////////////////////////////////////////////////////////////////////////
}//namespace Utility